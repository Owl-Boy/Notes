---
tags:
  - Note
  - Incomplete
---
202309300009

Tags : [[Logic]]

---
# Satisfiability in First Order Logic
```ad-question
title: Goal
When do we know if set $X\subseteq\Phi_{L}$ of sentences in a [[Syntax of First Order Logic#First Order Languages|First Order Language]] have a corresponding [[Semantics of First Order Logic#First Order Structures|First Order Structure]] $\mathcal M$ such that for each $\varphi\in X,\mathcal M\models\varphi$.
In other words, when do we say that a set is *Satisfiable*.
```

Henkin's Solution to the question reduces the question of [[Satisfiability in Propositional Logic]]

```ad-failure
title: Approaches that do not work
Just replacing all the Formulas that cannot be modeled with propositional logic using new propositional variables does not directly work.

For example
$$
\exists x\ r(x)\land\forall x\ r'(x) 
$$
where $r'$ is defined to be $\lnot r$

Here putting two different propositional variables in case of the two quantified terms gives a sentence that is satisfiable, even though the First Order Sentence is clearly not.
```

Henkin's approach is to keep expanding the language by adding more constants to it to eventually replace the quantified formulas. This will also blow up the size of $X$ because we need to check for more formulas, but then we would be able to use **Propositional Satisfiability** Instead.

```ad-tldr
title: Plan
To replace all _Prime Formulas_ by propositional variables, but also add extra valid formulas to provide more information about the structure without altering the satifiability.

- Case: Equality
  For every pair of equality $X\equiv Y$ and $Y\equiv Z$ we add $X\equiv Y\land Y\equiv Z\rightarrow X\equiv Z$ to add information about transitivity of Equality
- $\exists x\; \varphi(x)$
  This formula means that there is a _witnessing term_ $t$ that satisfies $\varphi$, so we can add the formula $\exists x\; \varphi(x)\rightarrow\varphi(t)$
- $\lnot\exists x\; \varphi(x)$ means that no valuation of $x$ satisfies $\varphi$, so we can safely add $\lnot\exists x\;\varphi(x)\rightarrow\lnot\varphi(t)$ for any arbitrary $t$

The only place where we need to be careful is case 2, where we need to find a witnessing element, there might not be enough constants in out language to work as witnessing elments. So we need to systematically add elements to our language.
```

Let the language be $L=\langle R, F, C\rangle$. 
We add new constants in steps, and name the sets of constants added $C_{0},C_{1}\dots$ and change the language along with it as $L_{0},L_{1}\dots$
- Let $C_{0}=\emptyset$ and $L_0=L$.
- As we add new constants, we can build new formulas, so we need to keep adding more constants. Say we just added a set of constants. Then for all new formulas, where we have $1$ free variable, we add a corresponding constant, so for $\varphi(x)$ we add $c_{\varphi(x)}$. The set of new constants generated by $\Phi_{L_{n}}\setminus\Phi_{L_{n-1}}$ is called $C_{n+1}$.
Let $C_{H}=\bigcup_{i\ge 0}C_{i}$ and let $L_{H}=\langle R, F, C\cup C_{H}\rangle$.

With the modified $L_{H}$ we get more machinery to work with
- The _quantifier axioms_ which is $\varphi(t)\rightarrow\exists x\;\varphi(x)$ which is valid in all languages
- The _Henkin axioms_ which are sentences of $L_H$ of the form $\exists x\; \varphi(x)\rightarrow\varphi(c_{\varphi(x)})$ 

```ad-info
I think the quantifier axioms are important because they let us use non quatifier formula for modus ponens which requires quantifier formulas.
```

The Henkin axioms are not automatically true, we need to carefully interpret the _witnessing constant_ for it to be true.

Let $\Phi_{H}$ bet the set of all Henkin Axioms and $\Phi_{Q}$ be the set of all quantifier axioms.

Then we add the _equality axioms_ which are 
$$
\begin{matrix}
&&t\equiv t \\ 
t\equiv u & \rightarrow & u\equiv t \\ 
t\equiv u\land u\equiv v & \rightarrow  & t\equiv v \\ 
(t_{1}\equiv u_{1}\land t_{2}\equiv u_{2}\land\cdots\land t_{n}\equiv u_{n})  & \rightarrow & f(t_{1},t_{2},\dots,t_{n})\equiv f(u_{1},u_{2},\dots u_{n}) \\ 
(t_{1}\equiv u_{1}\land t_{2}\equiv u_{2}\land\cdots\land t_{n}\equiv u_{n}) & \rightarrow & (r(t_{1},t_{2},\dots,t_{n})\rightarrow r(u_{1},u_{2},\dots,u_{n}))
\end{matrix}
$$

Let $\Phi_{\text{Eq}}$ be the set of all equality axioms. They are valid in all interpretations. 

Now with all the machinery built, we can prove the following claim.

```ad-tip
title: First Order Satisfiability
The following statements are equivalent:
1. There is an $L-$ interpretation $\mathcal I=(\mathcal M,\sigma)$ which satifies $X$
2. There is an $L_{H}-$ interpretation $(\mathcal M,\sigma)$ which sastifies $X$
3. $X\cup \Phi_{H}\cup\Phi_{Q}\cup\Phi_{\text{Eq}}$ is propositionally satisfiable.
```

2 implies 1 is immediate. Given an interpretation which satisfies $X$ in $L_{H}$ we just drop definition of constants that are used in $L_{H}$ which are not in $L$ as $X$ does not use any of those. This gives an interpretation in $L$ which satisfies $X$.

1 implies 3. Let $\mathcal I$ be an $L-$Interpretation which satisfies $X$. We can now construct an $L_{H}-$Interpretation for $X$ which agrees with the $L-$Interpretation and for every formula $\varphi(x)$ which is satisfiable, we set $c_{\varphi(x)}$ to be the value when $x$ is replaced with the _witnessing element_ and arbitrarily otherwise. This now also satisfies all formulas in $\Phi_{H}$, and hence there exists a corresponding propositional valuations which makes it propositionally satisfiable.

3 implies 2.
Given that $X\cup \Phi_{H}\cup\Phi_{Q}\cup\Phi_{\text{Eq}}$'' is propositionally satisfiable, we need to construct an $L_{H}-$Interpretation that satisfies it.

- We define the universe to be the set of terms over $L_{H}$ quotiented by the equivalence relation $\equiv$.
- We define the relations $r$ by $r^{\mathcal{M}}=\{\langle[t_{1}],[t_{2}],\dots,[t_{n}]\rangle\;:\; v\models r(t_{1},t_{2},\dots t_{n})\}$.
- We define all functions $f$ by $f^{\mathcal{M}}([t_{1}],[t_{2}],\dots [t_{n}])=[f(t_{1},t_{2},\dots,t_{n})]$.
- For all constants $c$ we do $c^{\mathcal{M}}=[c]$.
- All variables are also terms, we do $\sigma(x)=[x]$.

where $[x]$ represents the corresponding element in the universe.

This proves satisfiability for all atomic formulas.
For the rest of the formulae, we do induction. Trivial for $\varphi=\lnot\psi$ and $\varphi=\psi_{1}\lor\psi_{2}$.
If the formula is of the type $\varphi=\exists x\;\psi(x)$ then there is a term $t_s$ which corresponds to the witnessing terms of $\varphi$.
therefore if $(\mathcal M,\sigma)\models\varphi$ then $(\mathcal M,\sigma)\models \psi(t_{s})$.
By induction we have $\nu\models \psi(t_{s})$ and we have the quantifier axiom, we get $\nu \models\varphi$.
Conversly if $v\models \varphi$ we have the henkin axiom which gives us $\varphi\rightarrow \psi(c_{\psi(x)})$ and then we get $\nu\models\psi(c_{\psi(x)})$ and from the sematics of quantifier $\exists$, we get $\mathcal I\models \exists x\;\psi(x)$.
 
---
# References
